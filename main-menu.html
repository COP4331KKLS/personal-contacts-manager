<!-- COP4331 Small Project-->
<!-- Kevin Rabinowitz, Lloyd Dapaah, Kyle Ritz, and Stefan Werleman -->

<!-- This page will display all options the user can use -->
<!DOCTYPE html>
<html lang= "en" dir= "ltr">
	<!-- Page Title: Will display user's userid -->
	<head>
		<meta charset= "utf-8">
		<title>Main Menu | NAME</title>
		<link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
	</head>

	<body>
		<header>
			<h1>Welcome *NAME GOES HERE*</h1>

			<form class = "search">
				<!-- Search for contact and load to other page-->
				<!-- Datalist with Sample contacts to search -->
				<input type = "text" list = "contacts" id = "contact" name = "contact">
				<datalist id = "contacts">
					<option value = "Contact">
					<option value = "Other">
					<option value = "Kevin">
				</datalist>
				<nav>
					<button class = "search-button" onclick = "CreateTableFromJSON()">Search</button>
					<button class = "add-new-contact-button" onclick = "location.href = 'add-new-contact.html'">Add New Contact</button>
				</nav>
			</form>
		</header>

		<!-- List out all options for the user. Add, Edit, and Delete -->
<body>
	<p id="showData"></p>


	<script>
	    function CreateTableFromJSON() {
				event.preventDefault();
	        var myBooks = [
	            {
	                "First Name": "Kyle",
	                "Last Name" : "Rits",
	                "Company" : "",
	                "Phone" : "808-990-5604",
	                "Email": "KyleRits@Knights.ucf.edu",
	                "Address": "3721 Pyrite Drive"
	            },
	            {
	              "First Name": "Kyle",
	              "Last Name" : "Rits",
	              "Company" : "UCF",
	              "Phone" : "808-990-5604",
	              "Email": "KyleRits@Knights.ucf.edu",
	              "Address": ""
	            },
	            {
	              "First Name": "Kyle",
	              "Last Name" : "Rits",
	              "Company" : "UCF",
	              "Phone" : "808-990-5604",
	              "Email": "KyleRits@Knights.ucf.edu",
	              "Address": "3721 Pyrite Drive"
	            }
	        ]

	        // EXTRACT VALUE FOR HTML HEADER.
	        // ('Book ID', 'Book Name', 'Category' and 'Price')
	        var col = [];
	        for (var i = 0; i < myBooks.length; i++) {
	            for (var key in myBooks[i]) {
	                if (col.indexOf(key) === -1) {
	                    col.push(key);
	                }
	            }
	        }

	        // CREATE DYNAMIC TABLE.
	        var table = document.createElement("table");

	        // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

	        var tr = table.insertRow(-1);                   // TABLE ROW.
	/*
	        for (var i = 0; i < col.length; i++) {
	            var th = document.createElement("th");      // TABLE HEADER.
	            th.innerHTML = col[i];
	            tr.appendChild(th);
	        }*/

	        var th1 = document.createElement("th");
	        th1.innerHTML = "First Name";
	        tr.appendChild(th1);
	        var th2 = document.createElement("th");
	        th2.innerHTML = "Last Name";
	        tr.appendChild(th2);
	        var th3 = document.createElement("th");
	        th3.innerHTML = "Company";
	        tr.appendChild(th3);
	        var th4 = document.createElement("th");
	        th4.innerHTML = "Phone";
	        tr.appendChild(th4);
	        var th5 = document.createElement("th");
	        th5.innerHTML = "Email";
	        tr.appendChild(th5);
	        var th6 = document.createElement("th");
	        th6.innerHTML = "Address";
	        tr.appendChild(th6);

	        //tr.appendChild("Test")

	        // ADD JSON DATA TO THE TABLE AS ROWS.
	        for (var i = 0; i < myBooks.length; i++) {

	            tr = table.insertRow(-1);

	            for (var j = 0; j < col.length; j++) {
	                var tabCell = tr.insertCell(-1);
	                tabCell.innerHTML = myBooks[i][col[j]];
	            }
	            var newButt = document.createElement('input');
	            newButt.setAttribute('type', 'button');
	            newButt.setAttribute('value', 'Edit');
	            newButt.setAttribute('onclick', "location.href = 'edit-contact.html'");
	            tr.insertCell(-1).appendChild(newButt);
	            var newButt = document.createElement('input');
	            newButt.setAttribute('type', 'button');
	            newButt.setAttribute('value', 'Delete');
							newButt.setAttribute('onclick', "CreateTableFromJSON()");
	            tr.insertCell(-1).appendChild(newButt);
	        }

	        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
	        var divContainer = document.getElementById("showData");
	        divContainer.innerHTML = "";
	        divContainer.appendChild(table);
	    }
	</script>

		<script src = "client.js"></script>

		<script>
			searchContactPage();
		</script>
	</body>
</html>
